const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./UploadView-C_-ZvzlA.js","./vendor-CnOKNHKp.js","./vendor-exceljs-B3-f5COA.js","./vendor-xlsx-BrcMyRkh.js","./vendor-datepicker-ChPokmFs.js","./vendor-datepicker-C4eX_GUS.css","./vendor-phosphor-Cxx3Q_Uc.css","./Dashboard-GGIYbHW5.js","./vendor-charts-Dqlli2kf.js","./Dashboard-DUSw29Bw.css"])))=>i.map(i=>d[i]);
import{r as f,c as ie,o as ue,a as me,b as w,d as k,e as a,f as M,t as j,u as m,g as Ne,h as Oe,_ as pe,S as Ke,P as Te,i as Be,n as F,j as ge,k as $,w as fe,F as K,l as Y,v as V,m as ee,p as Le,q as ze,s as Ye,x as Ve,y as qe,z as He}from"./vendor-CnOKNHKp.js";import{E as Je}from"./vendor-exceljs-B3-f5COA.js";import{r as We,u as Ge}from"./vendor-xlsx-BrcMyRkh.js";import{l as Ce,A as oe}from"./vendor-datepicker-ChPokmFs.js";/* empty css                        */(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}})();const L=f([]),_e=f(null),$e=f(!1),Ee=f("Processing..."),H=f(null),P=f(null),U=f(null),Xe=f(null),Ze=f(null),se=f(!1),Qe=f(null),et=f(null),tt=f(null),st=f(null),at=f(null),ae=f(!1),B=f(!0),J=f(!1),W=f(!1),xe=f(!1),Ns=ie(()=>{let s=L.value;return P.value&&(s=s.filter(t=>t.date>=P.value)),U.value&&(s=s.filter(t=>t.date<=U.value)),s}),G=ie(()=>L.value.length>0),Os=ie(()=>{const s={};return L.value.forEach(t=>{const e=t.user,o=t.project,n=t.date;s[e]||(s[e]={}),s[e][o]||(s[e][o]={}),s[e][o][n]||(s[e][o][n]=0),s[e][o][n]+=parseFloat(t.units)||0}),s});function ne(s,t){L.value=s,_e.value=t}function A(s,t="Processing..."){$e.value=s,Ee.value=t}function X(s,t){P.value=s,U.value=t}function he(){L.value=[],_e.value=null,P.value=null,U.value=null,H.value=null}function Z(s,t){Xe.value=s,Ze.value=t,se.value=!!(s&&t)}function le(s){Qe.value=s.accessKey,et.value=s.secretKey,tt.value=s.endpoint,st.value=s.bucket,at.value=s.path,ae.value=!!(s.accessKey&&s.secretKey&&s.endpoint&&s.bucket)}function T(){J.value=!J.value}function nt(){W.value=!0}function be(){W.value=!1}function ot(){xe.value=!0}function q(){xe.value=!1}function Se(){B.value=!B.value}async function Ks(s){return new Promise((t,e)=>{const o=new FileReader;o.onload=async n=>{try{const r=n.target.result,i=await ve(r,s.name);t(i)}catch(r){e(r)}},o.onerror=()=>e(new Error("Failed to read file")),o.readAsArrayBuffer(s)})}async function ve(s,t=""){try{let e=[];const o=t.toLowerCase();if(o.endsWith(".xls")||o.endsWith(".csv")){const u=We(s,{type:"array"}),l=u.SheetNames[0],b=u.Sheets[l];e=Ge.sheet_to_json(b,{header:1})}else{const u=new Je.Workbook;await u.xlsx.load(s);const l=u.worksheets[0];if(!l)throw new Error("No worksheets found");l.eachRow({includeEmpty:!1},b=>{e.push(b.values.slice(1))})}let n=-1,r=null;for(let u=0;u<e.length;u++){const l=(e[u]||[]).join(" ").toLowerCase();if(l.includes("date")&&l.includes("user")){n=u,r=e[u];break}}if(n===-1){if(e.length===0)return[];n=0,r=e[0]}const i=[],d=r.map(u=>String(u).trim());for(let u=n+1;u<e.length;u++){const l=e[u],b={};let h=!1;d.forEach((x,g)=>{if(x){const p=l[g];b[x]=p,p!=null&&p!==""&&(h=!0)}}),h&&i.push(b)}return rt(i)}catch(e){throw console.error("Parser Error",e),new Error(`Failed to parse data: ${e.message}`)}}function lt(s){return Array.isArray(s)?s.map((t,e)=>{const o=t.Date||t.date_spent||t.date||"",n=t.User||t.user||"Unknown",r=parseFloat(t.Units||t.hours||t.units)||0,i=t.Project||t.project||"Unassigned";let d="";if(o)if(/^\d{4}-\d{2}$/.test(o))d=o;else{const u=Me(o);u&&(d=`${u.getFullYear()}-${String(u.getMonth()+1).padStart(2,"0")}`)}return{id:e,date:d,user:String(n).trim(),units:r,project:String(i).trim(),rawDate:o}}).filter(t=>t.user&&t.project&&t.date&&t.units>0):[]}function te(s,t){const e=Object.keys(s);for(const o of t){const n=e.find(r=>r.trim().toLowerCase().includes(o));if(n)return n}return null}function rt(s){if(!s||s.length===0)return[];const t=s[0],e=te(t,["date","spent"]),o=te(t,["user"]),n=te(t,["units","hours"]),r=te(t,["project"]);return(!e||!o||!n||!r)&&console.warn("Missing required columns. Found:",{dateKey:e,userKey:o,unitsKey:n,projectKey:r}),s.map((i,d)=>{const u=e?i[e]:"",l=o?i[o]||"Unknown User":"",b=n&&parseFloat(i[n])||0,h=r?i[r]||"Unassigned":"";let x="";if(u){const g=Me(u);g&&(x=`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}`)}return{id:d,date:x,user:String(l).trim(),units:isNaN(b)?0:b,project:String(h).trim(),rawDate:u}}).filter(i=>i.user&&i.project&&i.date&&i.units>0)}function Me(s){if(!s)return null;if(s instanceof Date)return s;if(typeof s=="number"){const o=new Date(Date.UTC(1899,11,30));return new Date(o.getTime()+s*864e5)}const t=String(s).trim();if(/^\d{4}-\d{2}-\d{2}/.test(t))return new Date(t);if(/^\d{1,2}\/\d{1,2}\/\d{4}/.test(t)){const[o,n,r]=t.split("/");return new Date(parseInt(r),parseInt(o)-1,parseInt(n))}if(/^\d{1,2}\/\d{1,2}\/\d{2,4}/.test(t)){const o=t.split("/");if(o[0]>12)return new Date(parseInt(o[2]),parseInt(o[1])-1,parseInt(o[0]))}const e=new Date(t);return isNaN(e.getTime())?null:e}function it(s){const t=new Set;return s.forEach(e=>{e.date&&t.add(e.date)}),Array.from(t).sort()}function Ts(s){const t=new Set;return s.forEach(e=>{e.project&&t.add(e.project)}),Array.from(t).sort()}function Bs(s){const t=new Set;return s.forEach(e=>{e.user&&t.add(e.user)}),Array.from(t).sort()}const ut={class:"absolute top-full left-0 mt-2 w-80 bg-slate-900 border border-slate-700 rounded-xl shadow-2xl z-50 overflow-hidden"},ct={class:"p-4 border-b border-slate-800"},dt={class:"text-[10px] text-slate-500 mt-1"},pt={class:"p-4 space-y-4"},ft={class:"grid grid-cols-2 gap-3"},bt={class:"flex flex-col gap-1"},gt=["value"],vt={class:"flex flex-col gap-1"},mt=["value"],xt={__name:"DateFilter",props:["onClose"],emits:["close"],setup(s,{emit:t}){const e=t,o=f(null),n=f(null),r=f(null),i=f(null),d=f(P.value||""),u=f(U.value||""),l=it(L.value),b=l.length>0?l[0]:null,h=l.length>0?l[l.length-1]:null;ue(()=>{const C=b?new Date(parseInt(b.split("-")[0]),parseInt(b.split("-")[1])-1,1):null,y=h?new Date(parseInt(h.split("-")[0]),parseInt(h.split("-")[1])-1,1):null,N=new Date,R=new Date(N.getFullYear(),N.getMonth(),1),z=y&&y>R?y:R,Q={...Ce,dateFormat:"yyyy-MM"};if(o.value&&(r.value=new oe(o.value,{locale:Q,view:"months",minView:"months",container:"body",dateFormat:"yyyy-MM",autoClose:!0,position:"bottom center",classes:"dark-datepicker",minDate:C,maxDate:u.value?new Date(parseInt(u.value.split("-")[0]),parseInt(u.value.split("-")[1])-1,1):z,onSelect:({date:v})=>{if(v){const c=v.getFullYear(),E=String(v.getMonth()+1).padStart(2,"0"),D=`${c}-${E}`;d.value=D,i.value&&i.value.update({minDate:v})}else d.value="",i.value&&i.value.update({minDate:C})}}),d.value)){const[v,c]=d.value.split("-");r.value.selectDate(new Date(parseInt(v),parseInt(c)-1,1))}if(n.value&&(i.value=new oe(n.value,{locale:Q,view:"months",minView:"months",container:"body",dateFormat:"yyyy-MM",autoClose:!0,position:"bottom center",classes:"dark-datepicker",minDate:d.value?new Date(parseInt(d.value.split("-")[0]),parseInt(d.value.split("-")[1])-1,1):C,maxDate:z,onSelect:({date:v})=>{if(v){const c=v.getFullYear(),E=String(v.getMonth()+1).padStart(2,"0"),D=`${c}-${E}`;u.value=D,r.value&&r.value.update({maxDate:v})}else u.value="",r.value&&r.value.update({maxDate:z})}}),u.value)){const[v,c]=u.value.split("-");i.value.selectDate(new Date(parseInt(v),parseInt(c)-1,1))}}),me(()=>{r.value&&r.value.destroy(),i.value&&i.value.destroy()});const x=()=>{X(d.value||null,u.value||null),e("close")},g=()=>{d.value="",u.value="",r.value&&r.value.clear(),i.value&&i.value.clear(),X(null,null),e("close")},p=()=>{if(b&&h){d.value=b,u.value=h;const[C,y]=b.split("-"),[N,R]=h.split("-");r.value&&r.value.selectDate(new Date(parseInt(C),parseInt(y)-1,1)),i.value&&i.value.selectDate(new Date(parseInt(N),parseInt(R)-1,1))}},S=()=>{e("close")};return(C,y)=>(w(),k("div",ut,[a("div",ct,[y[0]||(y[0]=a("h3",{class:"text-sm font-bold text-slate-100 flex items-center gap-2"},[a("i",{class:"ph ph-calendar text-blue-400"}),M(" Date Range Filter ")],-1)),a("p",dt," Data spans: "+j(m(b)||"N/A")+" → "+j(m(h)||"N/A"),1)]),a("div",pt,[a("div",ft,[a("div",bt,[y[1]||(y[1]=a("label",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest"},"From",-1)),a("input",{ref_key:"startPickerRef",ref:o,type:"text",placeholder:"Start Month",value:d.value,class:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 cursor-pointer",readonly:""},null,8,gt)]),a("div",vt,[y[2]||(y[2]=a("label",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest"},"To",-1)),a("input",{ref_key:"endPickerRef",ref:n,type:"text",placeholder:"End Month",value:u.value,class:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 cursor-pointer",readonly:""},null,8,mt)])]),a("div",{class:"flex gap-2"},[a("button",{onClick:p,class:"flex-1 px-3 py-2 text-xs text-slate-400 hover:text-slate-200 bg-slate-800 hover:bg-slate-700 rounded-lg border border-slate-700 transition-colors"}," Select All "),a("button",{onClick:g,class:"flex-1 px-3 py-2 text-xs text-slate-400 hover:text-slate-200 bg-slate-800 hover:bg-slate-700 rounded-lg border border-slate-700 transition-colors"}," Reset ")])]),a("div",{class:"p-4 bg-slate-800/50 border-t border-slate-800 flex justify-end gap-2"},[a("button",{onClick:S,class:"px-4 py-2 text-xs text-slate-400 hover:text-slate-200 transition-colors"}," Cancel "),a("button",{onClick:x,class:"px-4 py-2 text-xs font-bold text-white bg-blue-600 hover:bg-blue-500 rounded-lg transition-colors"}," Apply Filter ")])]))}},je="FileCache",ht=4,_="files",ke=5,Ae=864e5,Ie=365*24*60*60*1e3;function ce(){return new Promise((s,t)=>{const e=indexedDB.open(je,ht);e.onupgradeneeded=o=>{const n=o.target.result;n.objectStoreNames.contains(_)&&n.deleteObjectStore(_),n.createObjectStore(_,{keyPath:"name"}).createIndex("timestamp","timestamp",{unique:!1})},e.onsuccess=()=>s(e.result),e.onerror=()=>t(e.error)})}async function Ls(s,t,e=0){try{const o=await ce();return new Promise((n,r)=>{const d=o.transaction([_],"readwrite").objectStore(_),u={name:s.name,data:t,timestamp:Date.now(),rowCount:e},l=d.put(u);l.onsuccess=async()=>{await yt(o),n(!0)},l.onerror=()=>r(l.error)})}catch(o){return console.error("Error caching file:",o),!1}}async function yt(s){return new Promise(t=>{const n=s.transaction([_],"readwrite").objectStore(_).getAll();n.onsuccess=()=>{const r=n.result||[];if(r.length>ke){r.sort((l,b)=>l.timestamp-b.timestamp);const i=r.slice(0,r.length-ke),u=s.transaction([_],"readwrite").objectStore(_);i.forEach(l=>{l.name!=="SUPABASE_CACHE"&&u.delete(l.name)})}t()},n.onerror=()=>t()})}async function zs(){try{const s=await ce();return new Promise(t=>{const n=s.transaction([_],"readonly").objectStore(_).getAll();n.onsuccess=()=>{const r=n.result||[],i=Date.now(),d=r.filter(u=>{const l=i-u.timestamp;return u.name==="SUPABASE_CACHE"||u.isSupabase?l<Ie:l<Ae}).sort((u,l)=>l.timestamp-u.timestamp);t(d)},n.onerror=()=>t([])})}catch(s){return console.error("Error getting cached files:",s),[]}}async function wt(s){try{const t=await ce();return new Promise(e=>{const r=t.transaction([_],"readonly").objectStore(_).get(s);r.onsuccess=()=>{const i=r.result;if(i){const d=Date.now()-i.timestamp,u=i.isSupabase||s==="SUPABASE_CACHE"?Ie:Ae;if(d<u){e(i);return}}e(null)},r.onerror=()=>e(null)})}catch(t){return console.error("Error loading cached file:",t),null}}async function St(s){try{const t=await ce();return new Promise((e,o)=>{const i=t.transaction([_],"readwrite").objectStore(_).delete(s);i.onsuccess=()=>e(!0),i.onerror=()=>o(i.error)})}catch(t){return console.error("Error deleting cached file:",t),!1}}async function Ys(){try{return new Promise((s,t)=>{const e=indexedDB.deleteDatabase(je);e.onsuccess=()=>s(!0),e.onerror=()=>t(e.error)})}catch(s){return console.error("Error clearing cache:",s),!1}}function Vs(s){const e=Date.now()-s,o=Math.floor(e/6e4),n=Math.floor(e/36e5),r=Math.floor(e/864e5);return o<1?"just now":o<60?`${o}m ago`:n<24?`${n}h ago`:`${r}d ago`}const Fe="openproject_timeentries",Re=1e3;async function kt(s,t,e=null,o=null){if(!s||!t)throw new Error("Supabase URL and Key are required");let n=`${s}/rest/v1/${Fe}?order=date_spent.desc&limit=${Re}`;if(e&&o){n+=`&date_spent=gte.${e}-01`;const[i,d]=o.split("-"),u=new Date(parseInt(i),parseInt(d),0).getDate();n+=`&date_spent=lte.${i}-${d}-${u}`}else{const i=new Date,u=new Date(i.getFullYear(),i.getMonth()-2,1).toISOString().split("T")[0];n+=`&date_spent=gte.${u}`}const r=await fetch(n,{method:"GET",headers:{apikey:t,Authorization:`Bearer ${t}`,"Content-Type":"application/json",Prefer:"return=representation"}});if(!r.ok){const i=await r.json().catch(()=>({message:"Failed to connect to Supabase"}));throw new Error(i.message||"Failed to fetch from Supabase")}return r.json()}async function Dt(s,t,e=null,o=null){if(!s||!t)return 0;let n=`${s}/rest/v1/${Fe}?limit=0`;if(e&&o){n+=`&date_spent=gte.${e}-01`;const[d,u]=o.split("-"),l=new Date(parseInt(d),parseInt(u),0).getDate();n+=`&date_spent=lte.${d}-${u}-${l}`}else{const d=new Date,l=new Date(d.getFullYear(),d.getMonth()-2,1).toISOString().split("T")[0];n+=`&date_spent=gte.${l}`}const r=await fetch(n,{method:"GET",headers:{apikey:t,Authorization:`Bearer ${t}`,Prefer:"count=exact"}});if(!r.ok)throw new Error("Failed to connect to Supabase");const i=r.headers.get("content-range");if(i){const d=i.split("/")[1];return parseInt(d)||0}return 0}function Ct(s){return s.map((t,e)=>({id:e,date:_t(t.date_spent),user:t.user||"Unknown",units:parseFloat(t.hours)||0,project:t.project||"Unassigned",rawDate:t.date_spent})).filter(t=>t.date&&t.units>0)}function _t(s){if(!s)return"";const t=new Date(s);return isNaN(t.getTime())?"":`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`}async function De(s,t,e=null,o=null){A(!0,"Syncing with Supabase...");try{const n=await kt(s,t,e,o);if(!n||n.length===0)throw A(!1),new Error("No data found in Supabase");const r=Ct(n);if(r.length===0)throw A(!1),new Error("No valid data found after normalization");return await $t(n),ne(r,"Supabase Connection"),H.value="supabase",A(!1),{success:!0,rowCount:n.length,isLimitReached:n.length>=Re}}catch(n){throw A(!1),n}}async function $t(s){try{const t=indexedDB.open("FileCache",4);return new Promise(e=>{t.onsuccess=function(o){const n=o.target.result;if(!n.objectStoreNames.contains("files")){e(!1);return}const r=n.transaction(["files"],"readwrite"),i=r.objectStore("files"),u={name:"SUPABASE_CACHE",data:s.map(l=>({Date:l.date_spent,User:l.user,Units:l.hours,Project:l.project,_isSupabase:!0})),timestamp:Date.now(),rowCount:s.length,isSupabase:!0};i.put(u),r.oncomplete=()=>e(!0),r.onerror=()=>e(!1)},t.onerror=()=>e(!1)})}catch(t){return console.error("Error caching Supabase data:",t),!1}}function de(){try{const s=localStorage.getItem("supabaseConfig");if(s)return JSON.parse(s)}catch(s){console.error("Error loading Supabase config:",s)}return null}function Et(s,t,e=null,o=null){localStorage.setItem("supabaseConfig",JSON.stringify({url:s,key:t,startDate:e,endDate:o}))}function Mt(){localStorage.removeItem("supabaseConfig")}const jt=s=>new Promise(t=>setTimeout(t,s)),At=[{path:"/",redirect:"/upload"},{path:"/upload",name:"upload",component:()=>pe(()=>import("./UploadView-C_-ZvzlA.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url)},{path:"/dashboard",name:"dashboard-home",component:()=>pe(()=>import("./Dashboard-GGIYbHW5.js"),__vite__mapDeps([7,8,1,2,3,4,5,9,6]),import.meta.url),beforeEnter:async(s,t,e)=>{G.value?e():e("/upload")}},{path:"/dashboard/:filename(.*)",name:"dashboard-file",component:()=>pe(()=>import("./Dashboard-GGIYbHW5.js"),__vite__mapDeps([7,8,1,2,3,4,5,9,6]),import.meta.url),beforeEnter:async(s,t,e)=>{const o=s.params.filename;if(G.value){e();return}if(o)try{A(!0,"Restoring session..."),await jt(50);let n=decodeURIComponent(o);if(console.log("[Router] Decoded filename:",n),n.startsWith("spaces/")&&(n=n.replace("spaces/",""),console.log("[Router] Stripped spaces/ prefix:",n)),n.startsWith("http://")||n.startsWith("https://")){console.log("[Router] Fetching from URL:",n);const d=await fetch(n);if(!d.ok)throw new Error("Failed to fetch data from URL");const u=await d.arrayBuffer();console.log("[Router] Buffer received, length:",u.byteLength);const l=await ve(u,n);if(console.log("[Router] Normalized data count:",l.length),l.length>0){ne(l,n.split("/").pop()),H.value="file",console.log("[Router] Success, proceeding to Dashboard"),e();return}else throw new Error("No valid data found in URL")}const i=await wt(o==="supabase"?"SUPABASE_CACHE":o);if(i&&i.data)if(i.isSupabase||o==="SUPABASE_CACHE"||o==="supabase"){let d=i.data;typeof d=="string"&&(d=JSON.parse(d));const u=lt(d);if(u.length>0){ne(u,"Supabase Connection"),H.value="supabase";const l=de();l&&l.url&&l.key&&(Z(l.url,l.key),l.startDate&&l.endDate&&X(l.startDate,l.endDate)),e()}else e("/upload")}else{const d=await ve(i.data,o);d.length>0?(ne(d,o),H.value="file",e()):e("/upload")}else console.warn(`File ${o} not found in cache`),e("/upload")}catch(n){console.error("Error restoring session:",n),e("/upload")}finally{A(!1)}else e("/upload")}}],re=Ne({history:Oe(),routes:At});function Pe(){re.push("/upload")}function It(s){s?re.push(`/dashboard/${encodeURIComponent(s)}`):re.push("/dashboard")}async function qs(s,t,e){if(!e||!e.accessKey||!e.secretKey||!e.endpoint||!e.bucket)throw new Error("DigitalOcean Spaces configuration is incomplete");A(!0,"Uploading to Spaces...");try{const o=e.endpoint.match(/https?:\/\/([^.]+)\./),n=o?o[1]:"us-east-1",r=new Ke({endpoint:e.endpoint,region:n,credentials:{accessKeyId:e.accessKey||"",secretAccessKey:e.secretKey||""},forcePathStyle:!1});let i="";if(Array.isArray(s)&&s.length>0){const h={rawDate:"Date",user:"User",units:"Units",project:"Project"},x=Object.keys(h);i=Object.values(h).join(",")+`
`,i+=s.map(g=>x.map(p=>{const S=g[p]===null||g[p]===void 0?"":String(g[p]);return S.includes(",")||S.includes('"')||S.includes(`
`)?`"${S.replace(/"/g,'""')}"`:S}).join(",")).join(`
`)}else i=s;const u=`${e.path?e.path.endsWith("/")?e.path:e.path+"/":""}${Date.now()}-${t.replace(/[^a-zA-Z0-9.-]/g,"_")}.csv`,l=new Te({Bucket:e.bucket,Key:u,Body:i,ACL:"public-read",ContentType:"text/csv"});await r.send(l);const b=`${e.endpoint.replace("https://",`https://${e.bucket}.`)}/${u}`;return A(!1),b}catch(o){throw A(!1),console.error("Spaces upload error:",o),new Error(`Failed to upload to Spaces: ${o.message}`)}}function ye(){try{const s=localStorage.getItem("spacesConfig");if(s)return JSON.parse(s)}catch(s){console.error("Error loading Spaces config:",s)}return null}function Ft(s){localStorage.setItem("spacesConfig",JSON.stringify(s))}function Rt(){localStorage.removeItem("spacesConfig")}const Pt={class:"bg-slate-900 border-b border-slate-800 px-6 py-2 flex justify-between items-center shadow-sm shrink-0 z-40 relative"},Ut={class:"flex items-center -space-x-px"},Nt={key:0,class:"relative"},Ot={class:"hidden md:flex flex-col items-start leading-none gap-0.5"},Kt={class:"text-[10px] font-medium"},Tt=["title"],Bt={class:"hidden md:inline text-xs font-medium"},Lt={class:"relative"},zt={class:"p-2 flex flex-col gap-1"},Yt={key:0,class:"mb-3 p-2 bg-emerald-500/10 border border-emerald-500/20 rounded-lg flex flex-col gap-2"},Vt={key:0,class:"flex items-center gap-2"},qt={key:1,class:"flex items-center gap-2"},Ht={__name:"Header",setup(s){const t=f(!1),e=ie(()=>{if(!P.value&&!U.value)return"Showing everything";const g=P.value||"Beginning",p=U.value||"Present";return`${g} → ${p}`}),o=()=>{t.value=!1},n=g=>{g.stopPropagation(),T()},r=()=>{he(),Pe()},i=()=>{const g={supabase:de(),spaces:ye()},p=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),S=URL.createObjectURL(p),C=document.createElement("a");C.href=S,C.download=`openproject-config-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(S),T()},d=f(null),u=()=>{d.value?.click()},l=g=>{const p=g.target.files[0];if(!p)return;const S=new FileReader;S.onload=C=>{try{const y=JSON.parse(C.target.result);y.supabase&&(localStorage.setItem("supabaseConfig",JSON.stringify(y.supabase)),Z(y.supabase.url,y.supabase.key)),y.spaces&&(localStorage.setItem("spacesConfig",JSON.stringify(y.spaces)),le(y.spaces)),alert("Configuration imported successfully!"),T(),g.target.value=""}catch(y){console.error("Import error:",y),alert("Failed to import configuration: Invalid JSON")}},S.readAsText(p)},b=f(null),h=f(null),x=g=>{J.value&&b.value&&!b.value.contains(g.target)&&h.value&&!h.value.contains(g.target)&&T()};return ue(()=>{document.addEventListener("click",x)}),me(()=>{document.removeEventListener("click",x)}),(g,p)=>(w(),k("header",Pt,[p[17]||(p[17]=Be('<div class="flex items-center gap-3 md:gap-4"><i class="ph ph-calendar-check text-3xl text-blue-500 shrink-0"></i><div class="hidden md:block"><h1 class="font-bold text-base leading-tight text-slate-100">Monthly Project Report</h1><p class="text-[10px] text-slate-400">Project Trends &amp; Developer Breakdown</p></div></div>',1)),a("div",Ut,[m(G)?(w(),k("div",Nt,[a("button",{onClick:p[0]||(p[0]=S=>t.value=!t.value),class:F(["flex items-center gap-2 px-3 md:px-4 h-[38px] bg-slate-800 border border-slate-700 rounded-l-xl hover:bg-slate-700 transition-all z-10 relative focus:z-20 hover:text-blue-400",t.value?"text-blue-400 bg-slate-700":"text-slate-300"]),title:"Date Range"},[p[5]||(p[5]=a("i",{class:"ph ph-calendar text-lg"},null,-1)),a("div",Ot,[p[4]||(p[4]=a("span",{class:"text-[9px] uppercase font-bold text-slate-500 group-hover:text-blue-400/70 transition-colors"},"Range",-1)),a("span",Kt,j(e.value),1)])],2),t.value?(w(),ge(xt,{key:0,onClose:o,class:"!left-auto !right-0 origin-top-right"})):$("",!0)])):$("",!0),m(G)?(w(),k("button",{key:1,onClick:p[1]||(p[1]=(...S)=>m(Se)&&m(Se)(...S)),class:F(["flex items-center gap-2 px-3 md:px-4 h-[38px] bg-slate-800 border border-slate-700 hover:bg-slate-700 transition-all z-0 relative focus:z-20 border-l-0",m(B)?"text-blue-400":"text-slate-400"]),title:m(B)?"Hide Graph":"Show Graph"},[a("i",{class:F(["ph text-lg",m(B)?"ph-eye":"ph-eye-slash"])},null,2),a("span",Bt,j(m(B)?"Hide":"Show")+" Graph",1)],10,Tt)):$("",!0),a("button",{onClick:r,class:F(["flex items-center gap-2 px-3 md:px-4 h-[38px] bg-slate-800 hover:bg-slate-700 text-slate-300 hover:text-blue-400 text-xs font-bold transition-all border border-slate-700 border-l-0 relative focus:z-20",{"rounded-l-xl":!m(G)}])},[...p[6]||(p[6]=[a("i",{class:"ph ph-file-plus text-lg"},null,-1),a("span",{class:"hidden md:inline"},"New File",-1)])],2),a("div",Lt,[a("button",{ref_key:"settingsBtnRef",ref:h,onClick:n,class:F(["flex items-center justify-center px-3 h-[38px] bg-slate-800 hover:bg-slate-700 text-slate-300 hover:text-blue-400 text-xs font-bold rounded-r-xl transition-all border border-slate-700 border-l-0 relative focus:z-20",m(J)?"bg-slate-700 text-blue-400":""]),title:"Configuration"},[...p[7]||(p[7]=[a("i",{class:"ph ph-dots-three text-xl"},null,-1)])],2),m(J)?(w(),k("div",{key:0,ref_key:"settingsMenuRef",ref:b,class:"absolute right-0 mt-2 w-56 bg-slate-900 border border-slate-700 rounded-xl shadow-2xl overflow-hidden z-50"},[a("div",zt,[m(se)||m(ae)?(w(),k("div",Yt,[m(se)?(w(),k("div",Vt,[...p[8]||(p[8]=[a("div",{class:"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"},null,-1),a("span",{class:"text-[10px] font-bold text-emerald-400 uppercase tracking-wider"},"Supabase Connected",-1)])])):$("",!0),m(ae)?(w(),k("div",qt,[...p[9]||(p[9]=[a("div",{class:"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"},null,-1),a("span",{class:"text-[10px] font-bold text-emerald-400 uppercase tracking-wider"},"Spaces Configured",-1)])])):$("",!0)])):$("",!0),p[15]||(p[15]=a("h4",{class:"px-3 py-1.5 text-[10px] font-bold text-slate-500 uppercase tracking-widest"},"Data Source",-1)),a("button",{onClick:p[2]||(p[2]=S=>{m(nt)(),m(T)()}),class:"flex items-center gap-3 px-3 py-2 text-xs text-slate-300 hover:bg-slate-800 rounded-lg transition-colors group"},[p[10]||(p[10]=a("i",{class:"ph ph-database text-blue-400 group-hover:scale-110 transition-transform"},null,-1)),a("span",null,j(m(se)?"Configure Supabase":"Connect Supabase"),1)]),a("button",{onClick:p[3]||(p[3]=S=>{m(ot)(),m(T)()}),class:"flex items-center gap-3 px-3 py-2 text-xs text-slate-300 hover:bg-slate-800 rounded-lg transition-colors group"},[p[11]||(p[11]=a("i",{class:"ph ph-cloud-arrow-up text-emerald-400 group-hover:scale-110 transition-transform"},null,-1)),a("span",null,j(m(ae)?"Configure Spaces":"Setup DO Spaces"),1)]),p[16]||(p[16]=a("div",{class:"my-1 border-t border-slate-800"},null,-1)),a("button",{onClick:i,class:"flex items-center gap-3 px-3 py-2 text-xs text-slate-300 hover:bg-slate-800 rounded-lg transition-colors group"},[...p[12]||(p[12]=[a("i",{class:"ph ph-download-simple text-amber-400 group-hover:scale-110 transition-transform"},null,-1),a("span",null,"Export Configuration",-1)])]),a("button",{onClick:u,class:"flex items-center gap-3 px-3 py-2 text-xs text-slate-300 hover:bg-slate-800 rounded-lg transition-colors group"},[p[13]||(p[13]=a("i",{class:"ph ph-upload-simple text-purple-400 group-hover:scale-110 transition-transform"},null,-1)),p[14]||(p[14]=a("span",null,"Import Configuration",-1)),a("input",{type:"file",ref_key:"fileInputRef",ref:d,onChange:l,accept:".json",class:"hidden"},null,544)])])],512)):$("",!0)])])]))}},Jt={class:"fixed inset-0 z-[200] flex items-center justify-center bg-slate-950/50 backdrop-blur-[2px]"},Wt={class:"bg-slate-900 border border-slate-700 rounded-2xl p-6 shadow-2xl flex flex-col items-center gap-4"},Gt={class:"text-sm font-medium text-slate-200"},Xt={__name:"LoadingOverlay",props:{text:{type:String,default:"Processing..."}},setup(s){return(t,e)=>(w(),k("div",Jt,[a("div",Wt,[e[0]||(e[0]=a("div",{class:"w-12 h-12 border-4 border-blue-500/20 border-t-blue-500 rounded-full animate-spin"},null,-1)),a("p",Gt,j(s.text),1)])]))}},Zt={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-4"},Qt={class:"bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col"},es={class:"p-6 space-y-5 overflow-y-auto flex-1 custom-scrollbar"},ts={class:"space-y-2"},ss=["value"],as={class:"space-y-2"},ns=["value"],os=["disabled"],ls={key:0,class:"bg-red-500/10 border border-red-500/20 rounded-xl p-3"},rs={class:"text-[10px] text-red-300 leading-relaxed"},is={key:1,class:"space-y-5 animate-in fade-in slide-in-from-top-2 duration-300"},us={class:"grid grid-cols-2 gap-3"},cs={class:"space-y-2"},ds=["value"],ps={class:"space-y-2"},fs=["value"],bs={class:"flex items-center justify-between px-1"},gs={key:0,class:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-4"},vs={class:"flex gap-3"},ms={class:"text-[10px] text-amber-200 leading-relaxed italic"},xs={class:"pt-2 flex flex-col gap-2"},hs=["disabled"],ys={class:"p-6 bg-slate-800/50 border-t border-slate-800 flex flex-col gap-3 shrink-0"},ws=["disabled"],Ss={__name:"SupabaseModal",setup(s){const t=f(""),e=f(""),o=f(!1),n=f(!1),r=f(0),i=f(""),d=f(!1),u=f(null),l=f(null),b=f(null),h=f(null),x=f(""),g=f("");fe(()=>W.value,v=>{if(v){const c=de();if(c)t.value=c.url||"",e.value=c.key||"",x.value=c.startDate||"",g.value=c.endDate||"";else{const E=new Date,D=new Date(E.getFullYear(),E.getMonth()-2,1),I=new Date(E.getFullYear(),E.getMonth(),1),O=we=>`${we.getFullYear()}-${String(we.getMonth()+1).padStart(2,"0")}`;x.value=O(D),g.value=O(I)}}}),fe(n,v=>{v&&W.value&&setTimeout(p,50)});function p(){const v=new Date,c=new Date(v.getFullYear(),v.getMonth(),1),E={...Ce,dateFormat:"yyyy-MM"};if(u.value&&!b.value&&(b.value=new oe(u.value,{locale:E,view:"months",minView:"months",container:"body",dateFormat:"yyyy-MM",autoClose:!0,position:"bottom center",classes:"dark-datepicker",maxDate:g.value?new Date(parseInt(g.value.split("-")[0]),parseInt(g.value.split("-")[1])-1,1):c,onSelect:({date:D})=>{if(D){const I=D.getFullYear(),O=String(D.getMonth()+1).padStart(2,"0");x.value=`${I}-${O}`,h.value&&h.value.update({minDate:D})}}}),x.value)){const[D,I]=x.value.split("-");b.value.selectDate(new Date(parseInt(D),parseInt(I)-1,1))}if(l.value&&!h.value&&(h.value=new oe(l.value,{locale:E,view:"months",minView:"months",container:"body",dateFormat:"yyyy-MM",autoClose:!0,position:"bottom center",classes:"dark-datepicker",minDate:x.value?new Date(parseInt(x.value.split("-")[0]),parseInt(x.value.split("-")[1])-1,1):null,maxDate:c,onSelect:({date:D})=>{if(D){const I=D.getFullYear(),O=String(D.getMonth()+1).padStart(2,"0");g.value=`${I}-${O}`,b.value&&b.value.update({maxDate:D})}}}),g.value)){const[D,I]=g.value.split("-");h.value.selectDate(new Date(parseInt(D),parseInt(I)-1,1))}}me(()=>{b.value&&b.value.destroy(),h.value&&h.value.destroy()}),fe([x,g],([v,c])=>{n.value&&t.value&&e.value&&v&&c&&S(!0)});const S=async(v=!1)=>{if(!(!t.value||!e.value)){v||(o.value=!0,i.value=""),i.value="";try{const c=await Dt(t.value,e.value,x.value,g.value);r.value=c,n.value=!0}catch(c){console.error("Supabase connection error:",c),i.value=c.message||"Failed to connect to Supabase",n.value=!1}finally{v||(o.value=!1)}}},C=async()=>{if(n.value){d.value=!0;try{Et(t.value,e.value,x.value,g.value),Z(t.value,e.value),X(x.value,g.value),await De(t.value,e.value,x.value,g.value),be(),It("supabase")}catch(v){console.error("Supabase sync error:",v),alert("Failed to sync data: "+v.message)}finally{d.value=!1}}},y=async()=>{if(n.value){d.value=!0;try{await De(t.value,e.value,x.value,g.value)}catch(v){alert("Sync failed: "+v.message)}finally{d.value=!1}}},N=async()=>{confirm("Are you sure you want to disconnect Supabase?")&&(Mt(),await St("SUPABASE_CACHE"),Z(null,null),he(),be(),goToUpload())},R=()=>{be()},z=v=>{t.value=v.target.value,n.value=!1,i.value=""},Q=v=>{e.value=v.target.value,n.value=!1,i.value=""};return(v,c)=>m(W)?(w(),k("div",Zt,[a("div",{class:"absolute inset-0 bg-slate-950/80 backdrop-blur-sm -z-10",onClick:R}),a("div",Qt,[a("div",{class:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-900/50 shrink-0"},[c[2]||(c[2]=a("h3",{class:"text-lg font-bold text-slate-100 flex items-center gap-2"},[a("i",{class:"ph ph-database text-blue-400"}),M(" Connect Supabase ")],-1)),a("button",{onClick:R,class:"text-slate-500 hover:text-slate-300"},[...c[1]||(c[1]=[a("i",{class:"ph ph-x text-xl"},null,-1)])])]),a("div",es,[a("div",ts,[c[3]||(c[3]=a("label",{class:"text-xs font-bold text-slate-400 uppercase tracking-widest"},"Base URL",-1)),a("input",{type:"text",placeholder:"https://xyz.supabase.co",value:t.value,onInput:z,class:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all"},null,40,ss)]),a("div",as,[c[4]||(c[4]=a("label",{class:"text-xs font-bold text-slate-400 uppercase tracking-widest"},"Anon / Public Key",-1)),a("input",{type:"password",placeholder:"ey4M3r57gPmdpGsstMcFB4UPh...",value:e.value,onInput:Q,class:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all"},null,40,ns)]),a("button",{onClick:c[0]||(c[0]=E=>S(!1)),disabled:!t.value||!e.value||o.value,class:F(["w-full py-2.5 font-bold rounded-xl border transition-all active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",n.value?"bg-green-500/20 text-green-400 border-green-500/30":i.value?"bg-red-500/10 text-red-400 border-red-500/20":"bg-slate-800 hover:bg-slate-700 text-blue-400 border-slate-700"])},[o.value?(w(),k(K,{key:0},[c[5]||(c[5]=a("div",{class:"w-4 h-4 border-2 border-current opacity-20 border-t-current rounded-full animate-spin"},null,-1)),c[6]||(c[6]=M(" Connecting... ",-1))],64)):n.value?(w(),k(K,{key:1},[c[7]||(c[7]=a("i",{class:"ph ph-check-circle"},null,-1)),c[8]||(c[8]=M(" Connected ",-1))],64)):i.value?(w(),k(K,{key:2},[c[9]||(c[9]=a("i",{class:"ph ph-warning-circle"},null,-1)),c[10]||(c[10]=M(" Connection Failed ",-1))],64)):(w(),k(K,{key:3},[c[11]||(c[11]=a("i",{class:"ph ph-plugs"},null,-1)),c[12]||(c[12]=M(" Connect ",-1))],64))],10,os),i.value?(w(),k("div",ls,[a("p",rs,j(i.value),1)])):$("",!0),n.value?(w(),k("div",is,[a("div",us,[a("div",cs,[c[13]||(c[13]=a("label",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest"},"From Month",-1)),a("input",{ref_key:"startPickerRef",ref:u,type:"text",readonly:"",value:x.value,class:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 cursor-pointer"},null,8,ds)]),a("div",ps,[c[14]||(c[14]=a("label",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest"},"To Month",-1)),a("input",{ref_key:"endPickerRef",ref:l,type:"text",readonly:"",value:g.value,class:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 cursor-pointer"},null,8,fs)])]),a("div",bs,[a("span",{class:F(["text-[10px] font-medium",r.value>=1e3?"text-red-400":"text-green-400"])},"Data found in range:",2),a("span",{class:F(["text-[10px] font-bold",r.value>=1e3?"text-red-400":"text-green-400"])},j(r.value.toLocaleString())+" rows",3)]),r.value>=1e3?(w(),k("div",gs,[a("div",vs,[c[15]||(c[15]=a("i",{class:"ph ph-warning-circle text-amber-400 text-lg shrink-0"},null,-1)),a("p",ms," Warning: Found "+j(r.value.toLocaleString())+" rows. Only 1,000 rows will be fetched. Consider narrowing your date range. ",1)])])):$("",!0),a("div",xs,[a("button",{onClick:y,disabled:d.value,class:"flex items-center justify-center gap-2 w-full py-2.5 text-xs font-bold text-blue-400 bg-blue-500/10 border border-blue-500/20 rounded-xl hover:bg-blue-500/20 transition-all"},[a("i",{class:F(["ph ph-arrows-clockwise text-sm",d.value?"animate-spin":""])},null,2),M(" "+j(d.value?"Syncing...":"Sync Now"),1)],8,hs),a("button",{onClick:N,class:"flex items-center justify-center gap-2 w-full py-2.5 text-xs font-bold text-red-400 bg-red-500/10 border border-red-500/20 rounded-xl hover:bg-red-500/20 transition-all"},[...c[16]||(c[16]=[a("i",{class:"ph ph-plugs-off text-sm"},null,-1),M(" Disconnect Supabase ",-1)])])])])):$("",!0),c[17]||(c[17]=a("div",{class:"bg-blue-500/5 border border-blue-500/10 rounded-xl p-4"},[a("p",{class:"text-[10px] text-blue-300 leading-relaxed italic"}," Credentials are stored only in your browser. Data is fetched directly from Supabase via REST API. Max 1,000 rows per sync. ")],-1))]),a("div",ys,[a("button",{onClick:C,disabled:!n.value||d.value,class:"w-full py-3 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-xl shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:grayscale disabled:cursor-not-allowed"},[d.value?(w(),k(K,{key:0},[c[18]||(c[18]=a("div",{class:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"},null,-1)),c[19]||(c[19]=M(" Syncing... ",-1))],64)):(w(),k(K,{key:1},[c[20]||(c[20]=a("i",{class:"ph ph-check-circle text-lg"},null,-1)),c[21]||(c[21]=M(" Save & Sync Data ",-1))],64))],8,ws)])])])):$("",!0)}},ks={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Ds={class:"relative w-full max-w-md bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-300"},Cs={class:"p-6"},_s={class:"flex items-center justify-between mb-6"},$s={class:"space-y-4"},Es={__name:"SpacesModal",setup(s){const t=f(""),e=f(""),o=f("https://nyc3.digitaloceanspaces.com"),n=f(""),r=f("");ue(()=>{const u=ye();u&&(t.value=u.accessKey||"",e.value=u.secretKey||"",o.value=u.endpoint||"https://nyc3.digitaloceanspaces.com",n.value=u.bucket||"",r.value=u.path||"")});const i=()=>{const u={accessKey:t.value,secretKey:e.value,endpoint:o.value,bucket:n.value,path:r.value};Ft(u),le(u),q()},d=()=>{confirm("Clear DigitalOcean Spaces configuration?")&&(Rt(),t.value="",e.value="",o.value="https://nyc3.digitaloceanspaces.com",n.value="",r.value="",le({accessKey:"",secretKey:"",endpoint:"",bucket:"",path:""}))};return(u,l)=>m(xe)?(w(),k("div",ks,[a("div",{class:"absolute inset-0 bg-slate-950/80 backdrop-blur-sm",onClick:l[0]||(l[0]=(...b)=>m(q)&&m(q)(...b))}),a("div",Ds,[a("div",Cs,[a("div",_s,[l[8]||(l[8]=a("h3",{class:"text-xl font-bold text-slate-100 flex items-center gap-2"},[a("i",{class:"ph ph-cloud-arrow-up text-blue-400"}),M(" Spaces Settings ")],-1)),a("button",{onClick:l[1]||(l[1]=(...b)=>m(q)&&m(q)(...b)),class:"text-slate-400 hover:text-slate-100 transition-colors"},[...l[7]||(l[7]=[a("i",{class:"ph ph-x text-xl"},null,-1)])])]),a("div",$s,[a("div",null,[l[9]||(l[9]=a("label",{class:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1.5 ml-1"},"Access Key",-1)),Y(a("input",{"onUpdate:modelValue":l[2]||(l[2]=b=>t.value=b),type:"text",placeholder:"Your Access Key",class:"w-full bg-slate-950 border border-slate-800 rounded-xl px-4 py-3 text-slate-200 placeholder:text-slate-600 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all font-mono text-sm"},null,512),[[V,t.value]])]),a("div",null,[l[10]||(l[10]=a("label",{class:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1.5 ml-1"},"Secret Key",-1)),Y(a("input",{"onUpdate:modelValue":l[3]||(l[3]=b=>e.value=b),type:"password",placeholder:"Your Secret Key",class:"w-full bg-slate-950 border border-slate-800 rounded-xl px-4 py-3 text-slate-200 placeholder:text-slate-600 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all font-mono text-sm"},null,512),[[V,e.value]])]),a("div",null,[l[11]||(l[11]=a("label",{class:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1.5 ml-1"},"Endpoint",-1)),Y(a("input",{"onUpdate:modelValue":l[4]||(l[4]=b=>o.value=b),type:"text",placeholder:"https://nyc3.digitaloceanspaces.com",class:"w-full bg-slate-950 border border-slate-800 rounded-xl px-4 py-3 text-slate-200 placeholder:text-slate-600 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all font-mono text-sm"},null,512),[[V,o.value]])]),a("div",null,[l[12]||(l[12]=a("label",{class:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1.5 ml-1"},"Bucket Name",-1)),Y(a("input",{"onUpdate:modelValue":l[5]||(l[5]=b=>n.value=b),type:"text",placeholder:"my-bucket",class:"w-full bg-slate-950 border border-slate-800 rounded-xl px-4 py-3 text-slate-200 placeholder:text-slate-600 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all font-mono text-sm"},null,512),[[V,n.value]])]),a("div",null,[l[13]||(l[13]=a("label",{class:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1.5 ml-1"},"Subpath (optional)",-1)),Y(a("input",{"onUpdate:modelValue":l[6]||(l[6]=b=>r.value=b),type:"text",placeholder:"folder/subfolder",class:"w-full bg-slate-950 border border-slate-800 rounded-xl px-4 py-3 text-slate-200 placeholder:text-slate-600 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/50 transition-all font-mono text-sm"},null,512),[[V,r.value]])])]),a("div",{class:"flex gap-3 mt-8"},[a("button",{onClick:d,class:"flex-1 bg-slate-800 hover:bg-slate-700 text-slate-300 font-semibold py-3 px-4 rounded-xl transition-all border border-slate-700 hover:border-slate-600"}," Clear "),a("button",{onClick:i,class:"flex-[2] bg-blue-600 hover:bg-blue-500 text-white font-semibold py-3 px-4 rounded-xl shadow-lg shadow-blue-900/20 hover:shadow-blue-900/40 transition-all flex items-center justify-center gap-2"},[...l[14]||(l[14]=[a("i",{class:"ph ph-check"},null,-1),M(" Save Config ",-1)])])]),l[15]||(l[15]=a("p",{class:"text-[10px] text-slate-500 mt-4 text-center px-4"}," Credentials are stored locally in your browser cache and are only used to upload exported files. ",-1))])])])):$("",!0)}},Ms={class:"h-screen w-full bg-slate-950 text-slate-200 font-sans flex flex-col overflow-hidden"},js={class:"flex-1 overflow-hidden relative"},As={__name:"App",setup(s){Ye(),Ve();const t=()=>{he(),Pe()};return ue(()=>{const e=de();e&&e.url&&e.key&&(Z(e.url,e.key),e.startDate&&e.endDate&&X(e.startDate,e.endDate));const o=ye();o&&le(o)}),(e,o)=>{const n=ze("router-view");return w(),k("div",Ms,[m($e)?(w(),ge(Xt,{key:0,text:m(Ee)},null,8,["text"])):$("",!0),ee(Ss),ee(Es),ee(Ht,{onReset:t}),a("div",js,[ee(n,null,{default:Le(({Component:r})=>[(w(),ge(qe(r)))]),_:1})])])}}},Ue=He(As);Ue.use(re);Ue.mount("#app");export{Ls as a,It as b,Ys as c,Vs as d,Ts as e,Ns as f,zs as g,it as h,Bs as i,Os as j,_e as k,wt as l,B as m,lt as n,at as o,Ks as p,st as q,L as r,ae as s,tt as t,et as u,Qe as v,qs as w};
