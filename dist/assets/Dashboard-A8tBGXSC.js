import{f as S,r as se,e as X,h as A,i as J,j as B,k as oe,m as ae}from"./index-DmC9MnBP.js";import{C as H,r as K}from"./vendor-charts-BHuuydho.js";import{w as W,o as V,a as q,b as f,d as b,e,f as F,F as R,y as $,z as Q,u as O,t as C,A as ee,r as T,c as j,n as I,B as Y,D as Z,k as U,j as re,l as P}from"./vendor-CtF1jJXn.js";import"./vendor-exceljs-B3-f5COA.js";import"./vendor-xlsx-BrcMyRkh.js";import"./vendor-datepicker-ChPokmFs.js";/* empty css                        */const G=["#60a5fa","#f87171","#34d399","#fbbf24","#a78bfa","#f472b6","#22d3ee","#fb923c","#818cf8","#a3e635","#2dd4bf","#e879f9","#94a3b8","#38bdf8","#fb7185","#c084fc"];function z(L){return G[L%G.length]}const ne={class:"relative w-full h-80 transition-all overflow-hidden px-4"},ce={class:"chart-legend mb-2 flex flex-wrap gap-2 px-4 mt-2 max-h-24 overflow-y-auto"},ie={class:"text-slate-300"},de={class:"text-slate-500 text-[10px] ml-1"},ue={__name:"ChartSection",setup(L){H.register(...K);const r=T(null),h=T(null),v=T(null),p=j(()=>A(S.value)),c=j(()=>X(S.value)),g=()=>{if(!r.value||!se.value.length)return;h.value&&h.value.destroy();const o=r.value.getContext("2d"),d={};c.value.forEach(a=>{d[a]={},p.value.forEach(t=>d[a][t]=0)}),S.value.forEach(a=>{d[a.project]&&d[a.project][a.date]!==void 0&&(d[a.project][a.date]+=a.units)});const E=c.value.map(a=>({name:a,total:Object.values(d[a]).reduce((t,s)=>t+s,0)})).sort((a,t)=>t.total-a.total).map((a,t)=>({label:a.name,data:p.value.map(s=>d[a.name][s]||0),backgroundColor:z(t),borderWidth:0,borderRadius:2,barPercentage:.6}));h.value=ee(new H(o,{type:"bar",data:{labels:p.value.map(a=>{const[t,s]=a.split("-");return new Date(parseInt(t),parseInt(s)-1).toLocaleString("en-US",{month:"short",year:"numeric"})}),datasets:E},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"#0f172a",borderColor:"#334155",borderWidth:1,filter:a=>a.raw>0,callbacks:{footer:a=>`Total: ${a.reduce((s,u)=>s+u.parsed.y,0).toFixed(2)} h`}}},scales:{x:{stacked:!0,grid:{display:!1},ticks:{color:"#94a3b8"}},y:{stacked:!0,grid:{color:"#1e293b"},ticks:{color:"#94a3b8"},title:{display:!0,text:"Total Hours",color:"#64748b"}}}}}))};W(S,()=>{g()}),V(()=>{g();const o=v.value;if(!o)return;const d=x=>{const E=document.getElementById("scroll-content");E&&Math.abs(x.deltaY)>Math.abs(x.deltaX)&&(E.scrollTop+=x.deltaY,x.preventDefault())};o.addEventListener("wheel",d,{passive:!1})}),q(()=>{h.value&&h.value.destroy()});const i=()=>{if(r.value){const o=document.createElement("canvas");o.width=r.value.width,o.height=r.value.height;const d=o.getContext("2d");d.fillStyle="#0f172a",d.fillRect(0,0,o.width,o.height),d.drawImage(r.value,0,0);const x=document.createElement("a");x.download="Monthly_Project_Report.png",x.href=o.toDataURL("image/png",1),x.click()}},l=j(()=>{const o={};return S.value.forEach(d=>{o[d.project]||(o[d.project]=0),o[d.project]+=d.units}),c.value.map(d=>({name:d,total:o[d]||0})).sort((d,x)=>x.total-d.total)});return(o,d)=>(f(),b("div",{ref_key:"sectionRef",ref:v,id:"chart-section",class:"bg-slate-900 border-b border-slate-800 flex flex-col p-3 shrink-0 shadow-lg relative z-30 transition-all"},[e("div",{class:"flex justify-between items-start mb-2 shrink-0 px-4"},[d[1]||(d[1]=e("div",null,[e("h3",{class:"text-lg font-bold text-slate-100"},"Monthly Hours Trend"),e("p",{class:"text-xs text-slate-500"},[F("Stacked by "),e("span",{class:"font-bold text-blue-400"},"Project")])],-1)),e("div",{class:"flex items-center gap-2"},[e("button",{onClick:i,class:"text-xs font-medium text-slate-400 hover:text-white flex items-center gap-1 bg-slate-800 px-3 py-1.5 rounded-full border border-slate-700 hover:bg-slate-700 transition-colors"},[...d[0]||(d[0]=[e("i",{class:"ph ph-download-simple"},null,-1),F(" Save Image ",-1)])])])]),e("div",ne,[e("canvas",{ref_key:"chartRef",ref:r},null,512)]),e("div",ce,[(f(!0),b(R,null,$(l.value,(x,E)=>(f(),b("div",{key:x.name,class:"legend-item flex items-center gap-1.5 px-2 py-1 rounded bg-slate-800/50 text-xs"},[e("div",{class:"w-3 h-3 rounded",style:Q({backgroundColor:O(z)(E)})},null,4),e("span",ie,C(x.name),1),e("span",de,"("+C(x.total.toFixed(1))+" h)",1)]))),128))])],512))}},pe={id:"project-section",class:"flex flex-col p-0 overflow-hidden shrink-0 table-section"},fe={class:"px-8 pb-8"},ve={class:"bg-slate-900 rounded-xl border border-slate-800"},be={class:"table-scroll-wrapper overflow-x-auto"},he={id:"project-table",class:"text-sm text-left border-collapse",style:{"min-width":"100%"}},xe={id:"project-thead",class:"text-xs text-slate-400 uppercase bg-slate-800"},me={class:"px-4 py-3 font-medium text-slate-200 sticky left-0 bg-slate-900 z-10 border-r border-slate-800"},ge={class:"px-4 py-3 text-right font-bold text-blue-400"},ye={__name:"ProjectSection",setup(L){const r=j(()=>A(S.value)),h=j(()=>X(S.value)),v=j(()=>{const i={};return h.value.forEach(l=>{i[l]={total:0},r.value.forEach(o=>i[l][o]=0)}),S.value.forEach(l=>{i[l.project]&&(i[l.project][l.date]=(i[l.project][l.date]||0)+l.units,i[l.project].total+=l.units)}),i}),p=j(()=>[...h.value].sort((i,l)=>v.value[l].total-v.value[i].total)),c=i=>{const[l,o]=i.split("-");return new Date(parseInt(l),parseInt(o)-1).toLocaleString("en-US",{month:"short",year:"numeric"})},g=i=>{const l=i||0,o=l===0;return{text:l.toFixed(1)+"h",class:o?"text-slate-600":"text-slate-300"}};return(i,l)=>(f(),b("div",pe,[l[2]||(l[2]=e("div",{class:"p-3 bg-slate-950 shrink-0"},[e("h3",{class:"text-xs font-bold text-slate-100 flex items-center gap-2 px-5"},[e("i",{class:"ph ph-briefcase text-blue-400"}),F(" Project Breakdown ")])],-1)),e("div",fe,[e("div",ve,[e("div",be,[e("table",he,[e("thead",xe,[e("tr",null,[l[0]||(l[0]=e("th",{class:"px-4 py-3 sticky left-0 bg-slate-800 z-20 border-b border-r border-slate-700 font-semibold"},"Project",-1)),(f(!0),b(R,null,$(r.value,o=>(f(),b("th",{key:o,class:"px-4 py-3 text-right border-b border-r border-slate-700 font-semibold whitespace-nowrap"},C(c(o)),1))),128)),l[1]||(l[1]=e("th",{class:"px-4 py-3 text-right font-bold text-blue-400 border-b border-slate-700"},"Total",-1))])]),e("tbody",null,[(f(!0),b(R,null,$(p.value,(o,d)=>(f(),b("tr",{key:o,class:I(["hover:bg-slate-800/50 transition-colors",d<p.value.length-1?"border-b border-slate-800":""])},[e("td",me,C(o),1),(f(!0),b(R,null,$(r.value,x=>(f(),b("td",{key:x,class:I(["px-4 py-3 text-right border-r border-slate-800/50",g(v.value[o][x]).class])},C(g(v.value[o][x]).text),3))),128)),e("td",ge,C(v.value[o].total.toFixed(1))+"h",1)],2))),128))])])])])])]))}},_e={id:"developer-section",class:"flex flex-col p-0 overflow-hidden shrink-0 table-section"},we={class:"px-8 pb-8"},ke={class:"bg-slate-900 rounded-xl border border-slate-800"},Ce={class:"table-scroll-wrapper overflow-x-auto"},je={id:"developer-table",class:"text-sm text-left border-collapse",style:{"min-width":"100%"}},Ee={id:"developer-thead",class:"text-xs text-slate-400 uppercase bg-slate-800"},Se={class:"px-4 py-3 font-medium text-slate-200 sticky left-0 bg-slate-900 z-10 border-r border-slate-800"},Le={class:"px-4 py-3 text-right font-bold text-blue-400"},Te={__name:"DeveloperSection",setup(L){const r=j(()=>A(S.value)),h=j(()=>J(S.value)),v=j(()=>{const i={};return h.value.forEach(l=>{i[l]={total:0},r.value.forEach(o=>i[l][o]=0)}),S.value.forEach(l=>{i[l.user]&&(i[l.user][l.date]=(i[l.user][l.date]||0)+l.units,i[l.user].total+=l.units)}),i}),p=j(()=>[...h.value].sort((i,l)=>v.value[l].total-v.value[i].total)),c=i=>{const[l,o]=i.split("-");return new Date(parseInt(l),parseInt(o)-1).toLocaleString("en-US",{month:"short",year:"numeric"})},g=i=>{const l=i||0,o=l===0;return{text:l.toFixed(1)+"h",class:o?"text-slate-600":"text-slate-300"}};return(i,l)=>(f(),b("div",_e,[l[2]||(l[2]=e("div",{class:"p-3 bg-slate-950 shrink-0"},[e("h3",{class:"text-xs font-bold text-slate-100 flex items-center gap-2 px-5"},[e("i",{class:"ph ph-users text-blue-400"}),F(" Developer Breakdown ")])],-1)),e("div",we,[e("div",ke,[e("div",Ce,[e("table",je,[e("thead",Ee,[e("tr",null,[l[0]||(l[0]=e("th",{class:"px-4 py-3 sticky left-0 bg-slate-800 z-20 border-b border-r border-slate-700 font-semibold"},"Developer",-1)),(f(!0),b(R,null,$(r.value,o=>(f(),b("th",{key:o,class:"px-4 py-3 text-right border-b border-r border-slate-700 font-semibold whitespace-nowrap"},C(c(o)),1))),128)),l[1]||(l[1]=e("th",{class:"px-4 py-3 text-right font-bold text-blue-400 border-b border-slate-700"},"Total",-1))])]),e("tbody",null,[(f(!0),b(R,null,$(p.value,(o,d)=>(f(),b("tr",{key:o,class:I(["hover:bg-slate-800/50 transition-colors",d<p.value.length-1?"border-b border-slate-800":""])},[e("td",Se,C(o),1),(f(!0),b(R,null,$(r.value,x=>(f(),b("td",{key:x,class:I(["px-4 py-3 text-right border-r border-slate-800/50",g(v.value[o][x]).class])},C(g(v.value[o][x]).text),3))),128)),e("td",Le,C(v.value[o].total.toFixed(1))+"h",1)],2))),128))])])])])])]))}},Re={id:"insights-section",class:"flex flex-col p-0 overflow-hidden shrink-0 table-section mb-10"},$e={class:"px-8"},De={class:"bg-slate-900 rounded-xl border border-slate-800 p-6"},Be={class:"flex flex-wrap gap-4 mb-6"},Ie={class:"flex flex-col gap-1 w-full sm:w-64"},Fe={class:"relative"},Me=["value"],Pe={class:"flex flex-col gap-1 w-full sm:w-64"},He={class:"relative"},ze=["disabled"],Ae=["value"],Oe={class:"relative w-full h-96"},Ne={key:0,class:"absolute inset-0 flex items-center justify-center text-slate-500 text-sm"},Ue={key:0,class:"chart-legend mt-4 flex flex-wrap gap-2 max-h-24 overflow-y-auto"},We={class:"text-slate-300"},Ve={class:"text-slate-500 text-[10px] ml-1"},qe={__name:"InsightsSection",setup(L){H.register(...K);const r=T(""),h=T("all"),v=T(null),p=T(null),c=j(()=>J(S.value)),g=j(()=>{const a={};return c.value.forEach(t=>{a[t]=0,B.value[t]&&Object.values(B.value[t]).forEach(s=>{Object.values(s).forEach(u=>a[t]+=u)})}),a}),i=j(()=>[...c.value].sort((a,t)=>g.value[t]-g.value[a])),l=j(()=>r.value&&B.value[r.value]?Object.keys(B.value[r.value]).sort():[]),o=j(()=>{const a={};return r.value&&B.value[r.value]&&Object.entries(B.value[r.value]).forEach(([t,s])=>{a[t]=Object.values(s).reduce((u,_)=>u+_,0)}),a}),d=()=>{if(!v.value||!r.value){p.value&&(p.value.destroy(),p.value=null);return}const a=B.value[r.value]||{},t=new Set;Object.values(a).forEach(n=>{Object.keys(n).forEach(w=>t.add(w))});const s=Array.from(t).sort();let u=h.value==="all"?Object.keys(a):[h.value];u=u.filter(n=>a[n]).map(n=>({name:n,total:Object.values(a[n]).reduce((w,m)=>w+m,0)})).sort((n,w)=>w.total-n.total).map(n=>n.name);const _=u.map((n,w)=>{const m=s.map(k=>a[n]?.[k]||0);return{label:n,data:m,backgroundColor:z(w),borderWidth:0,borderRadius:2,barPercentage:.6}});p.value&&p.value.destroy();const y=v.value.getContext("2d");p.value=ee(new H(y,{type:"bar",data:{labels:s.map(n=>{const[w,m]=n.split("-");return new Date(parseInt(w),parseInt(m)-1).toLocaleString("en-US",{month:"short",year:"numeric"})}),datasets:_},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"#0f172a",borderColor:"#334155",borderWidth:1,filter:n=>n.raw>0,callbacks:{footer:n=>`Total: ${n.reduce((m,k)=>m+k.parsed.y,0).toFixed(2)} h`}}},scales:{x:{stacked:!0,grid:{display:!1},ticks:{color:"#94a3b8"}},y:{stacked:!0,grid:{color:"#1e293b"},ticks:{color:"#94a3b8"},title:{display:!0,text:"Hours Spent",color:"#64748b"}}}}}))},x=()=>{h.value="all"};W([r,h,B],()=>{requestAnimationFrame(d)}),V(()=>{d()}),q(()=>{p.value&&p.value.destroy()});const E=j(()=>r.value?(h.value==="all"?l.value:[h.value]).filter(t=>o.value[t]>0).sort((t,s)=>(o.value[s]||0)-(o.value[t]||0)):[]);return(a,t)=>(f(),b("div",Re,[t[8]||(t[8]=e("div",{class:"p-3 bg-slate-950 shrink-0 flex justify-between items-center"},[e("h3",{class:"text-xs font-bold text-slate-100 flex items-center gap-2 px-5"},[e("i",{class:"ph ph-chart-bar text-blue-400"}),F(" Developer Project Insights ")])],-1)),e("div",$e,[e("div",De,[e("div",Be,[e("div",Ie,[t[4]||(t[4]=e("label",{class:"text-xs text-slate-400 font-medium"},"Select Developer",-1)),e("div",Fe,[Y(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>r.value=s),onChange:x,class:"w-full bg-slate-800 border border-slate-700 text-slate-200 text-sm rounded-lg p-2.5 focus:ring-blue-500 focus:border-blue-500 appearance-none"},[t[2]||(t[2]=e("option",{value:""},"Select a Developer...",-1)),(f(!0),b(R,null,$(i.value,s=>(f(),b("option",{key:s,value:s},C(s)+" ("+C(g.value[s].toFixed(1))+" h) ",9,Me))),128))],544),[[Z,r.value]]),t[3]||(t[3]=e("i",{class:"ph ph-caret-down absolute right-3 top-3 text-slate-400 pointer-events-none"},null,-1))])]),e("div",Pe,[t[7]||(t[7]=e("label",{class:"text-xs text-slate-400 font-medium"},"Filter by Project",-1)),e("div",He,[Y(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>h.value=s),disabled:!r.value,class:"w-full bg-slate-800 border border-slate-700 text-slate-200 text-sm rounded-lg p-2.5 focus:ring-blue-500 focus:border-blue-500 appearance-none disabled:opacity-50"},[t[5]||(t[5]=e("option",{value:"all"},"All Projects",-1)),(f(!0),b(R,null,$(l.value,s=>(f(),b("option",{key:s,value:s},C(s)+" ("+C((o.value[s]||0).toFixed(1))+" h) ",9,Ae))),128))],8,ze),[[Z,h.value]]),t[6]||(t[6]=e("i",{class:"ph ph-caret-down absolute right-3 top-3 text-slate-400 pointer-events-none"},null,-1))])])]),e("div",Oe,[e("canvas",{ref_key:"chartRef",ref:v},null,512),r.value?U("",!0):(f(),b("div",Ne," Select a developer to view insights "))]),r.value?(f(),b("div",Ue,[(f(!0),b(R,null,$(E.value,(s,u)=>(f(),b("div",{key:s,class:"legend-item flex items-center gap-1.5 px-2 py-1 rounded bg-slate-800/50 text-xs"},[e("div",{class:"w-3 h-3 rounded",style:Q({backgroundColor:O(z)(u)})},null,4),e("span",We,C(s),1),e("span",Ve,"("+C((o.value[s]||0).toFixed(1))+" h)",1)]))),128))])):U("",!0)])])]))}},Ye={class:"fixed bottom-20 right-6 flex flex-col gap-2 z-50"},Ze={__name:"FloatingNav",props:["activeSection"],emits:["scrollTo"],setup(L,{emit:r}){const h=r,v=p=>{const c=document.getElementById("scroll-content"),g=document.getElementById(p);if(p==="chart-section"){c&&(c.scrollTop=0);return}if(g&&c){const i=g.offsetTop;c.scrollTo({top:i,behavior:"smooth"})}h("scrollTo",p)};return(p,c)=>(f(),b("div",Ye,[e("button",{onClick:c[0]||(c[0]=g=>v("chart-section")),class:I(["nav-btn w-10 h-10 rounded-full border border-slate-700 shadow-lg hover:bg-slate-700 hover:scale-110 transition-all flex items-center justify-center",L.activeSection==="chart-section"?"active bg-blue-600 text-white":"bg-slate-800 text-blue-400"]),title:"Top"},[...c[4]||(c[4]=[e("i",{class:"ph ph-arrow-up"},null,-1)])],2),e("button",{onClick:c[1]||(c[1]=g=>v("project-section")),class:I(["nav-btn w-10 h-10 rounded-full border border-slate-700 shadow-lg hover:bg-slate-700 hover:scale-110 transition-all flex items-center justify-center",L.activeSection==="project-section"?"active bg-blue-600 text-white":"bg-slate-800 text-blue-400"]),title:"Projects"},[...c[5]||(c[5]=[e("i",{class:"ph ph-briefcase"},null,-1)])],2),e("button",{onClick:c[2]||(c[2]=g=>v("developer-section")),class:I(["nav-btn w-10 h-10 rounded-full border border-slate-700 shadow-lg hover:bg-slate-700 hover:scale-110 transition-all flex items-center justify-center",L.activeSection==="developer-section"?"active bg-blue-600 text-white":"bg-slate-800 text-blue-400"]),title:"Developers"},[...c[6]||(c[6]=[e("i",{class:"ph ph-users"},null,-1)])],2),e("button",{onClick:c[3]||(c[3]=g=>v("insights-section")),class:I(["nav-btn w-10 h-10 rounded-full border border-slate-700 shadow-lg hover:bg-slate-700 hover:scale-110 transition-all flex items-center justify-center",L.activeSection==="insights-section"?"active bg-blue-600 text-white":"bg-slate-800 text-blue-400"]),title:"Insights"},[...c[7]||(c[7]=[e("i",{class:"ph ph-chart-bar"},null,-1)])],2)]))}},Ge={class:"w-full bg-slate-900 border-t border-slate-800 p-3 shrink-0 z-40 relative"},Xe={class:"max-w-7xl mx-auto flex flex-wrap items-center justify-center gap-6"},Je={class:"text-xs text-slate-400 font-medium"},Ke={__name:"Footer",setup(L){const r=j(()=>A(S.value)),h=()=>{navigator.clipboard.writeText(window.location.href)};return(v,p)=>(f(),b("footer",Ge,[e("div",Xe,[e("span",Je," Source: "+C(O(oe)||"No File")+" | "+C(r.value.length)+" Months Displayed ",1),e("div",{class:"flex items-center gap-4"},[e("button",{onClick:h,class:"text-xs text-slate-400 hover:text-blue-400 flex items-center gap-1 transition-colors",title:"Copy URL from address bar"},[...p[0]||(p[0]=[e("i",{class:"ph ph-link"},null,-1),F(" Copy URL ",-1)])]),p[1]||(p[1]=e("div",{class:"w-px h-3 bg-slate-700 mx-1"},null,-1)),p[2]||(p[2]=e("a",{href:"https://github.com/darkcolonist/openproject-export-monthly-visualizer",target:"_blank",rel:"noopener noreferrer",class:"text-xs text-slate-400 hover:text-blue-400 flex items-center gap-1 transition-colors"},[e("i",{class:"ph ph-github-logo"}),F(" GitHub ")],-1))])])]))}},Qe={class:"w-full h-full flex flex-col relative"},nt={__name:"Dashboard",setup(L){const r=T(null),h=T("chart-section"),v=T(null),p=()=>{const t=r.value;if(!t)return;const s=t.scrollTop,u=["chart-section","project-section","developer-section","insights-section"];let _="chart-section";for(const y of u){const n=document.getElementById(y);if(n){const w=y==="chart-section"?0:n.offsetTop-100;s>=w&&(_=y)}}h.value=_,E()};let c=null,g=null,i=[];function l(t){const s=r.value,u=s.getBoundingClientRect();return t.getBoundingClientRect().top-u.top+s.scrollTop}function o(t,s,u){if(!t||!u||!s)return;const _=t.querySelectorAll("th"),y=u.querySelectorAll("th"),n=u.closest("table");n&&(n.style.tableLayout="fixed",n.style.width=s.scrollWidth+"px",n.style.minWidth=s.scrollWidth+"px"),_.forEach((w,m)=>{if(y[m]){y[m].style.boxSizing="border-box";const D=w.getBoundingClientRect().width+"px";y[m].style.width=D,y[m].style.minWidth=D,y[m].style.maxWidth=D}})}function d(t,s,u){const _=v.value;if(!_)return;const y=t.id,n=_.querySelector(".floating-header-inner");if(n){const M=u.getBoundingClientRect(),le=_.getBoundingClientRect();n.style.marginLeft=M.left-le.left+"px",n.style.width=M.width+"px",n.scrollLeft=u.scrollLeft}if(y===c)return;const w=t.cloneNode(!0),m=document.createElement("table");m.className=s.className,m.style.cssText=s.style.cssText,m.style.tableLayout="fixed",m.style.width=s.scrollWidth+"px",m.style.marginBottom="0",m.appendChild(w);const k=document.createElement("div");k.className="floating-header-inner";const D=u.getBoundingClientRect(),N=_.getBoundingClientRect();k.style.marginLeft=D.left-N.left+"px",k.style.width=D.width+"px",k.style.marginRight="0",k.style.padding="0",k.appendChild(m),_.innerHTML="",_.appendChild(k),_.classList.add("active"),k.scrollLeft=u.scrollLeft,requestAnimationFrame(()=>{o(t,s,w)});const te=()=>{const M=g;M&&Math.abs(M.scrollLeft-k.scrollLeft)>1&&(M.scrollLeft=k.scrollLeft)};k.addEventListener("scroll",te),c=y,g=u}function x(){const t=v.value;t&&t.classList.contains("active")&&(t.classList.remove("active"),t.innerHTML="",c=null,g=null)}function E(){const t=r.value;if(!t)return;const s=document.getElementById("project-thead"),u=document.getElementById("project-table"),_=document.getElementById("developer-thead"),y=document.getElementById("developer-table");if(!s||!u||!_||!y)return;const n=t.scrollTop,w=s.offsetHeight||0,m=l(u),k=m+u.offsetHeight,D=l(y),N=D+y.offsetHeight;n>=m&&n<k-w?d(s,u,u.parentElement):n>=D&&n<N-w?d(_,y,y.parentElement):x()}const a=t=>{const s=document.getElementById(t);if(s&&s.parentElement){const u=s.parentElement,_=v.value,y=()=>{const n=_?.querySelector(".floating-header-inner");n&&(t==="project-table"&&c==="project-thead"||t==="developer-table"&&c==="developer-thead")&&Math.abs(n.scrollLeft-u.scrollLeft)>1&&(n.scrollLeft=u.scrollLeft)};u.addEventListener("scroll",y),i.push({el:u,fn:y})}};return V(()=>{const t=r.value;t&&t.addEventListener("scroll",p),window.addEventListener("resize",E),setTimeout(()=>{a("project-table"),a("developer-table"),E()},400)}),q(()=>{const t=r.value;t&&t.removeEventListener("scroll",p),window.removeEventListener("resize",E),i.forEach(({el:s,fn:u})=>s.removeEventListener("scroll",u))}),W(S,()=>{setTimeout(E,100)}),(t,s)=>(f(),b("div",Qe,[O(ae)?(f(),re(ue,{key:0})):U("",!0),e("div",{id:"scroll-content",ref_key:"scrollRef",ref:r,class:"flex-1 overflow-y-auto relative bg-slate-950"},[e("div",{id:"floating-header",ref_key:"floatingHeaderRef",ref:v,class:"floating-sticky-header"},null,512),P(ye),P(Te),P(qe),P(Ke),P(Ze,{activeSection:h.value},null,8,["activeSection"])],512)]))}};export{nt as default};
